{
    "name": "valvometry_daily",
    "description": "Full daily pipeline: parse -> clean -> resample -> transform -> aggregate -> to_postgres -> exportnour",
    "dataset": "PREMANIP-GRACE",
    "params": {
        "from": "2026-02-03T09:55:00Z",
        "to": "2026-02-18T08:30:00Z"
    },
    "steps": [
        {
            "treatment": "parse",
            "input": "00_raw",
            "output": "10_parsed"
        },
        {
            "treatment": "clean",
            "input": "10_parsed",
            "output": "20_clean"
        },
        {
            "treatment": "resample",
            "input": "20_clean",
            "output": "25_resampled",
            "params": {
                "max_gap_fill_s": 20
            }
        },
        {
            "treatment": "transform",
            "input": "25_resampled",
            "output": "30_transform"
        },
        {
            "treatment": "normalize",
            "input": "30_transform",
            "output": "35_normalized",
            "params": {
                "fit": false,
                "domain": "bio_signal",
                "columns": {"*__cbrt_inv": "*__cbrt_inv__norm"}
            }
        },
        {
            "treatment": "aggregate",
            "input": "35_normalized",
            "output": "40_aggregated"
        },
        {
            "treatment": "to_postgres",
            "input": "40_aggregated",
            "output": "60_postgres",
            "params": {
                "host": "pil-86",
                "dbname": "icaging",
                "user": "icaging",
                "password": "icaging",
                "table_prefix": "BETA_",
                "table_template": "PREMANIP_GRACE__AGGREGATED__{aggregation}"
            }
        },
        {
            "treatment": "exportcsv",
            "input": "40_aggregated",
            "output": "61_exportcsv_raw",
            "params": {
                "aggregation": "10s",
                "domain": "bio_signal",
                "tz": "Europe/Paris",
                "columns": {
                    "m0__raw__mean": "c0",
                    "m1__raw__mean": "c1",
                    "m2__raw__mean": "c2",
                    "m3__raw__mean": "c3",
                    "m4__raw__mean": "c4",
                    "m5__raw__mean": "c5",
                    "m6__raw__mean": "c6",
                    "m7__raw__mean": "c7",
                    "m8__raw__mean": "c8",
                    "m9__raw__mean": "c9",
                    "m10__raw__mean": "c10",
                    "m11__raw__mean": "c11"
                }
            }
        },
        {
            "treatment": "exportcsv",
            "input": "40_aggregated",
            "output": "62_exportcsv_cbrt_inv",
            "params": {
                "aggregation": "10s",
                "domain": "bio_signal",
                "tz": "Europe/Paris",
                "columns": {
                    "m0__cbrt_inv__mean": "c0",
                    "m1__cbrt_inv__mean": "c1",
                    "m2__cbrt_inv__mean": "c2",
                    "m3__cbrt_inv__mean": "c3",
                    "m4__cbrt_inv__mean": "c4",
                    "m5__cbrt_inv__mean": "c5",
                    "m6__cbrt_inv__mean": "c6",
                    "m7__cbrt_inv__mean": "c7",
                    "m8__cbrt_inv__mean": "c8",
                    "m9__cbrt_inv__mean": "c9",
                    "m10__cbrt_inv__mean": "c10",
                    "m11__cbrt_inv__mean": "c11"
                }
            }
        }
    ]
}
