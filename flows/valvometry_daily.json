{
    "name": "valvometry_daily",
    "description": "Full daily pipeline: parse -> clean -> transform -> resample -> aggregate",
    "steps": [
        {
            "treatment": "parse",
            "input": "datasets/PREMANIP-GRACE/00_raw",
            "output": "datasets/PREMANIP-GRACE/10_parsed"
        },
        {
            "treatment": "clean",
            "input": "datasets/PREMANIP-GRACE/10_parsed",
            "output": "datasets/PREMANIP-GRACE/20_clean"
        },
        {
            "treatment": "transform",
            "input": "datasets/PREMANIP-GRACE/20_clean",
            "output": "datasets/PREMANIP-GRACE/25_transform"
        },
        {
            "treatment": "resample",
            "input": "datasets/PREMANIP-GRACE/25_transform",
            "output": "datasets/PREMANIP-GRACE/30_resampled"
        },
        {
            "treatment": "aggregate",
            "input": "datasets/PREMANIP-GRACE/30_resampled",
            "output": "datasets/PREMANIP-GRACE/40_aggregated"
        },
        {
            "treatment": "to_postgres",
            "input": "datasets/PREMANIP-GRACE/40_aggregated",
            "output": "datasets/PREMANIP-GRACE/60_postgres",
            "params": {
                "host": "pil-86",
                "dbname": "icaging",
                "user": "icaging",
                "password": "icaging",
                "table_prefix": "BETA_",
                "table_template": "PREMANIP_GRACE__AGGREGATED__{aggregation}"
            }
        },
        {
            "treatment": "exportnour",
            "input": "datasets/PREMANIP-GRACE/40_aggregated",
            "output": "datasets/PREMANIP-GRACE/61_exportnour",
            "params": {
                "aggregation": "10s",
                "domain": "bio_signal",
                "tz": "Europe/Paris",
                "columns": {
                    "m0__raw__mean": "m0",
                    "m1__raw__mean": "c1",
                    "m2__raw__mean": "c2",
                    "m3__raw__mean": "c3",
                    "m4__raw__mean": "c4",
                    "m5__raw__mean": "c5",
                    "m6__raw__mean": "c6"
                }
            }
        }
    ]
}
