{
    "name": "valvometry_full",
    "description": "Full reprocess pipeline with unlimited gap-fill (no holes in data)",
    "dataset": "PREMANIP-GRACE",
    "params": {},
    "steps": [
        {
            "treatment": "parse",
            "input": "00_raw",
            "output": "10_parsed"
        },
        {
            "treatment": "clean",
            "input": "10_parsed",
            "output": "20_clean"
        },
        {
            "treatment": "resample",
            "input": "20_clean",
            "output": "25_resampled",
            "params": {
                "max_gap_fill_s": 86400
            }
        },
        {
            "treatment": "transform",
            "input": "25_resampled",
            "output": "30_transform"
        },
        {
            "treatment": "normalize",
            "input": "30_transform",
            "output": "35_normalized",
            "params": {
                "fit": true,
                "domain": "bio_signal",
                "columns": {"*__sqrt_inv": "*__sqrt_inv__norm"}
            }
        },
        {
            "treatment": "aggregate",
            "input": "35_normalized",
            "output": "40_aggregated"
        },
        {
            "treatment": "to_postgres",
            "input": "40_aggregated",
            "output": "60_postgres",
            "params": {
                "host": "pil-86",
                "dbname": "icaging",
                "user": "icaging",
                "password": "icaging",
                "table_prefix": "BETA_",
                "table_template": "PREMANIP_GRACE__AGGREGATED__{aggregation}",
                "mode": "replace"
            }
        }
    ]
}
